{% extends 'base.html' %}

{% block title %}Главная - Candy Store{% endblock %}

{% block content %}
<style>
    .hero {
        background: linear-gradient(rgba(255, 107, 139, 0.9), rgba(255, 142, 83, 0.9));
        color: white;
        padding: 4rem 2rem;
        border-radius: 15px;
        text-align: center;
        margin-bottom: 3rem;
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    
    .hero h1 {
        font-size: 3rem;
        margin-bottom: 1rem;
    }
    
    .hero p {
        font-size: 1.2rem;
        max-width: 800px;
        margin: 0 auto 2rem;
    }
    
    .categories {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
    }
    
    .category-btn {
        background: white;
        color: #ff6b8b;
        padding: 0.8rem 1.5rem;
        border: none;
        border-radius: 25px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .category-btn:hover {
        background: #ff6b8b;
        color: white;
        transform: translateY(-2px);
    }
    
    .sweets-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 2rem;
        margin: 3rem 0;
    }
    
    .sweet-card {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .sweet-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0,0,0,0.15);
    }
    
    .sweet-image {
        height: 200px;
        background: linear-gradient(135deg, #ff6b8b, #ff8e53);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 4rem;
    }
    
    .sweet-info {
        padding: 1.5rem;
    }
    
    .sweet-name {
        font-size: 1.3rem;
        color: #333;
        margin-bottom: 0.5rem;
    }
    
    .sweet-brand {
        color: #ff8e53;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    
    .sweet-type {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 1rem;
    }
    
    .sweet-price {
        color: #ff6b8b;
        font-size: 1.5rem;
        font-weight: bold;
        margin-bottom: 1rem;
    }
    
    .view-btn {
        background: linear-gradient(135deg, #ff6b8b, #ff8e53);
        color: white;
        border: none;
        padding: 0.8rem 1.5rem;
        border-radius: 25px;
        cursor: pointer;
        font-weight: bold;
        width: 100%;
        transition: opacity 0.3s;
    }
    
    .view-btn:hover {
        opacity: 0.9;
    }
    
    .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
        margin: 3rem 0;
    }
    
    .stat-card {
        background: white;
        padding: 1.5rem;
        border-radius: 10px;
        text-align: center;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .stat-number {
        font-size: 2.5rem;
        color: #ff6b8b;
        font-weight: bold;
    }
    
    .stat-label {
        color: #666;
        margin-top: 0.5rem;
    }
</style>

<div class="hero">
    <h1>Добро пожаловать в мир сладостей!</h1>
    <p>Откройте для себя уникальную коллекцию конфет, шоколада и десертов со всего мира. Каждая сладость — это маленькое удовольствие!</p>
</div>

<div class="categories">
    {% for type in types %}
    <a href="{% url 'sweets_list' %}?type={{ type.type_id }}">
        <button class="category-btn">{{ type.type_name }}</button>
    </a>
    {% endfor %}
</div>

<h2 style="text-align: center; color: #ff6b8b; margin-bottom: 2rem;">Популярные сладости</h2>

<div class="sweets-grid">
    {% for sweet in sweets %}
    <div class="sweet-card">
        <div class="sweet-image">
            {% if sweet.photo %}
            
            {% else %}
            
            {% endif %}
        </div>
        <div class="sweet-info">
            <div class="sweet-name">{{ sweet.brand.brand_name }}</div>
            <div class="sweet-brand">Бренд: {{ sweet.brand.brand_name }}</div>
            <div class="sweet-type">Вид: {{ sweet.type.type_name }}</div>
            <div class="sweet-price">{{ sweet.price }} ₽</div>
            <div style="margin-bottom: 0.5rem; color: #666; font-size: 0.9rem;">
                <strong>Вес:</strong> {{ sweet.weight }}
            </div>
            <a href="{% url 'sweet_detail' sweet.sweet_id %}">
                <button class="view-btn">Подробнее</button>
            </a>
        </div>
    </div>
    {% empty %}
    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
        <h3 style="color: #666;">Сладостей пока нет в наличии</h3>
        <p>Скоро появятся новые вкусности!</p>
    </div>
    {% endfor %}
</div>

<div class="stats">
    <div class="stat-card">
        <div class="stat-number">{{ sweets|length }}</div>
        <div class="stat-label">Сладостей в каталоге</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">{{ brands|length }}</div>
        <div class="stat-label">Брендов</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">{{ types|length }}</div>
        <div class="stat-label">Видов сладостей</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">от 50 ₽</div>
        <div class="stat-label">Самая доступная цена</div>
    </div>
</div>

<a href="{% url 'sweets_list' %}" style="display: block; text-align: center; margin: 3rem 0;">
    <button class="view-btn" style="width: auto; padding: 1rem 3rem; font-size: 1.1rem;">
        Смотреть все сладости →
    </button>
</a>
{% endblock %}